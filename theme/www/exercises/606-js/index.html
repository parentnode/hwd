<!DOCTYPE html>
<html lang="en">
<head>
	<title>Exercise 606</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<link rel="stylesheet" type="text/css" href="/css/exercises/includes.css" />
	<script type="text/javascript" src="/js/exercises/includes.js"></script>
</head>
<body>


<div id="page" class="i:page">
	<div id="header"></div>
	<div id="content">

		<div class="scene i:exercise">
			<h1>Exercise 606 - Janitor and JavaScript</h1>
			<p>
				This exercise is about developing your first Janitor based PHP project
			</p>
			<p>
				The purpose of this exercise is to work with your personal Janitor project to gain experience
				with Janitor and JavaScript.
			</p>

			<h2>Tasks</h2>
			<ol>
				<li>
					<h3>Understand the JS folder</h3>
					<p>
						Your frontend JavaScript lives in <em>theme/www/js</em>. As default Janitor expects you to use
						Manipulator JavaScript with the Detector segments and this is reflected in the default file structure.
					</p>
					<p>
						Inside the <em>theme/www/js</em> folder you will find two folders, <em>lib</em> and <em>manipulator</em>
						and some files like <em>seg_desktop.js</em> and <em>seg_smartphone.js</em>. The JavaScript files in this
						folder are merged files, that has been generated by the system and should <strong>never</strong> be edited.
					</p>
					<p>
						The <em>lib</em> folder is where you write your code. In the <em>lib</em> folder you find
						a <em>desktop</em> and a <em>smartphone</em> folder. They are intended for desktop and smartphone scripts
						respectively. This is where you will place your Manipulator initializer modules and any helper functions,
						preferably in separate files.
					</p>
					<p>
						In the <em>lib</em> folder, you will also find some files like <em>seg_desktop_include.js</em> and 
						<em>seg_smartphone_include.js</em>. These files contain the include settings for their segment – in this case
						the <em>desktop</em> or <em>smartphone</em> segments respectively. The segment support can be expanded to cover all 12 Detector
						segments, but in most cases less will do, by grouping segments to fit your needs, as explained in exercise
						405.
					</p>
					<p>
						In the <em>manipulator</em> folder, you will find the manipulator library, both as a standard prepackaged
						bundle and all the individual src files if you wish to customize your includes further.
					</p>
				</li>
				<li>
					<h3>Modify the desktop <em>front</em> initializer module</h3>
					<p>
						In <em>theme/www/js/lib/desktop</em> you will find an <em>i-front.js</em> file, containing the <em>front</em>
						initializer module. You should be familiar with the initializer module syntax from earlier exercises. And as
						you know, it is the <em>i:front</em> class on the <em>scene</em> in the <em>theme/templates/pages/front.php</em>
						template, which maps the frontpage scene with the initializer.
					</p>
					<p>
						Try to add some JavaScript to the <em>ready</em> method. What you add is less important – the point is
						to add something and see that it is executed when the page loads. So you should add some code that either
						uses console.log or adds something to the HTML. Hint: in order to see your changes remember to set the <em>/?dev</em> parameter correctly. 
					</p>
				</li>
				<li>
					<h3>Add an initializer module for your own template(s)</h3>
					<p>
						Create a new file in <em>theme/www/js/lib/desktop</em>. Call it <em>i-</em>#some-name#.js to indicate
						it contains an initializer. You can draw some inspiration from i-front.js, but remember to update the
						initalizer name and make sure it outputs something in the ready method, so you can test that it works.
					</p>
					<p>
						Include the new JavaScript file in <em>theme/www/js/lib/seg_desktop_include.js</em>, so it gets included
						when the page loads.
					</p>
					<p>
						Add the <em>i:#some-name#</em> class to the scene in your template(s). Reload the different pages and
						check that your console output only occurs when it is supposed to.
					</p>
				</li>
				<li>
					<h3>Add a smartphone initializer module for your own template(s)</h3>
					<p>
						Create a new file in <em>theme/www/js/lib/smartphone</em>. Use the same initializer name(s) that you just
						added to the <em>desktop</em> segment and your template scene(s).
					</p>
					<p>
						Include the new JavaScript file in <em>theme/www/js/lib/seg_smartphone_include.js</em>, so it gets included
						when the page loads.
					</p>
					<p>
						Add a <em>?segment=smartphone</em> to the url and see if your smartphone initializers work.
					</p>
				</li>
				<li>
					<h3>Remember</h3>
					<p>
						Never use inline JavaScript in your templates or controllers. Ever. No.
					</p>
					<p>
						No.
					</p>
				</li>
			</ol>
		</div>

	</div>
	<div id="footer"></div>
</div>

</body>
</html>